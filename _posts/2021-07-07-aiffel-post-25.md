---
title: "day 7 파이썬 Visualization"
excerpt: "Learning how to code with Python"
categories:
  - Aiffel-LMS
tags:
  - Python
toc: True
toc_sticky: True
last_modified_at: 2021-07-07T17:06:00Z


---


# 파이썬 데이터 Visualization

## 파이썬으로 그래프를 그리기

### 막대그래프 그려보기


```
import matplotlib.pyplot as plt
%matplotlib inline

#그래프 데이터 
subject = ['English', 'Math', 'Korean', 'Science', 'Computer']
points = [40, 90, 50, 60, 100]

# 축 그리기
fig = plt.figure()
ax1 = fig.add_subplot(1,1,1)

# 그래프 그리기
ax1.bar(subject, points)

# 라벨, 타이틀 달기
plt.xlabel('Subject')
plt.ylabel('Points')
plt.title("Yuna's Test Result")

# 보여주기
plt.savefig('./barplot.png')  # 그래프를 이미지로 출력
plt.show()                            # 그래프를 화면으로 출력
```

![image](https://user-images.githubusercontent.com/46912607/124685143-a2915580-df0b-11eb-8bfd-04c79c5091ea.png)


### 선 그래프 그려보기

```

from datetime import datetime
import pandas as pd
import os

#그래프 데이터 
csv_path = os.getenv("HOME") + "/aiffel/data_visualization/data/AMZN.csv"
data = pd.read_csv(csv_path ,index_col=0, parse_dates=True)
price = data['Close']

# 축 그리기 및 좌표축 설정
fig = plt.figure()
ax = fig.add_subplot(1,1,1)
price.plot(ax=ax, style='black')
plt.ylim([1600,2200])
plt.xlim(['2019-05-01','2020-03-01'])

# 주석달기
important_data = [(datetime(2019, 6, 3), "Low Price"),(datetime(2020, 2, 19), "Peak Price")]
for d, label in important_data:
    ax.annotate(label, xy=(d, price.asof(d)+10), #주석을 달 좌표(x,y)
                xytext=(d,price.asof(d)+100), #주석 텍스트가 위차할 좌표(x,y)
                arrowprops=dict(facecolor='red')) #화살표 추가 및 색 설정

# 그리드, 타이틀 달기
plt.grid()
ax.set_title('StockPrice')

# 보여주기
plt.show()
```

![image](https://user-images.githubusercontent.com/46912607/124685621-9ce83f80-df0c-11eb-8da0-28cd5ba00c3b.png)

### plot 사용법 

```
import numpy as np
x = np.linspace(0, 10, 100) #0에서 10까지 균등한 간격으로  100개의 숫자를 만들라는 뜻입니다.
plt.plot(x, np.sin(x),'o')
plt.plot(x, np.cos(x),'--', color='black') 
plt.show()
```

![image](https://user-images.githubusercontent.com/46912607/124685853-0a946b80-df0d-11eb-84a0-11fe25df24ff.png)

```
x = np.linspace(0, 10, 100) 

plt.subplot(2,1,1)
plt.plot(x, np.sin(x),'orange','o')

plt.subplot(2,1,2)
plt.plot(x, np.cos(x), 'orange') 
plt.show()
```

![image](https://user-images.githubusercontent.com/46912607/124685873-13853d00-df0d-11eb-898c-2e4fcedec00d.png)

```
x = np.linspace(0, 10, 100) 

plt.plot(x, x + 0, linestyle='solid') 
plt.plot(x, x + 1, linestyle='dashed') 
plt.plot(x, x + 2, linestyle='dashdot') 
plt.plot(x, x + 3, linestyle='dotted')
plt.plot(x, x + 0, '-g') # solid green 
plt.plot(x, x + 1, '--c') # dashed cyan 
plt.plot(x, x + 2, '-.k') # dashdot black 
plt.plot(x, x + 3, ':r'); # dotted red
plt.plot(x, x + 4, linestyle='-') # solid 
plt.plot(x, x + 5, linestyle='--') # dashed 
plt.plot(x, x + 6, linestyle='-.') # dashdot 
plt.plot(x, x + 7, linestyle=':'); # dotted
```

![image](https://user-images.githubusercontent.com/46912607/124685893-1da73b80-df0d-11eb-8c84-503b0f26d531.png)

### pandas

pandas.plot메서드 인자

- label: 그래프의 범례이름.

- ax: 그래프를 그릴 matplotlib의 서브플롯 객체.

- style: matplotlib에 전달할 'ko--'같은 스타일의 문자열

- alpha: 투명도 (0 ~1)

- kind: 그래프의 종류: line, bar, barh, kde

- logy: Y축에 대한 로그스케일

- use_index: 객체의 색인을 눈금 이름으로 사용할지의 여부

- rot: 눈금 이름을 로테이션(0 ~ 360)

- xticks, yticks: x축, y축으로 사용할 값

- xlim, ylim: x축, y축 한계

- grid: 축의 그리드 표시할 지 여부

pandas의 data가 DataFrame일때 plot 메서드 인자

- subplots: 각 DataFrame의 칼럼을 독립된 서브플롯에 그린다.

- sharex: subplots=True면 같은 X축을 공유하고 눈금과 한계를 연결한다.

- sharey: subplots=True면 같은 Y축을 공유한다.

- figsize: 그래프의 크기, 튜플로 지정

- title: 그래프의 제목을 문자열로 지정

- sort_columns: 칼럼을 알파벳 순서로 그린다.

```
fig, axes = plt.subplots(2, 1)
data = pd.Series(np.random.rand(5), index=list('abcde'))
data.plot(kind='bar', ax=axes[0], color='blue', alpha=1)
data.plot(kind='barh', ax=axes[1], color='red', alpha=0.3)
```

![image](https://user-images.githubusercontent.com/46912607/124686043-5a733280-df0d-11eb-8fa9-83e44c3aa6ee.png)

```
df = pd.DataFrame(np.random.rand(6,4), columns=pd.Index(['A','B','C','D']))
df.plot(kind='line')
```

![image](https://user-images.githubusercontent.com/46912607/124686063-63fc9a80-df0d-11eb-99d9-d45b0ba60eae.png)